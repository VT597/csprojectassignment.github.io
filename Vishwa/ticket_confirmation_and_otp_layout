import tkinter as tk
from tkinter import ttk
import random
import string

# Function to generate a random OTP
def generate_otp():
    otp = ''.join(random.choice(string.digits) for _ in range(6))
    otp_label.config(text=f"Your OTP: {otp}")

# Function to handle the payment and ticket generation
def process_payment():
    # Implement payment processing logic here

    # Generate a PDF ticket with QR code
    # Save ticket details in MySQL database
    pass

# Create the main window
root = tk.Tk()
root.title("Ticket Booking")

# Create a frame for card options
card_frame = ttk.LabelFrame(root, text="Select Card Type")
card_frame.pack(pady=10)

card_type = tk.StringVar()
card_options = ["Credit Card", "Debit Card", "PayPal"]
for i, option in enumerate(card_options):
    ttk.Radiobutton(card_frame, text=option, variable=card_type, value=option).grid(row=i, column=0, padx=10, pady=5)

# Create a frame for card details
details_frame = ttk.LabelFrame(root, text="Enter Card Details")
details_frame.pack(pady=10)

card_label = ttk.Label(details_frame, text="Card Number:")
card_label.grid(row=0, column=0, padx=10, pady=5)
card_entry = ttk.Entry(details_frame)
card_entry.grid(row=0, column=1, padx=10, pady=5)

# Create an OTP frame
otp_frame = ttk.LabelFrame(root, text="OTP")
otp_frame.pack(pady=10)

otp_label = ttk.Label(otp_frame, text="")
otp_label.pack()

generate_otp_button = ttk.Button(otp_frame, text="Generate OTP", command=generate_otp)
generate_otp_button.pack()

# Create a confirmation frame
confirmation_frame = ttk.LabelFrame(root, text="Confirmation")
confirmation_frame.pack(pady=10)

confirm_button = ttk.Button(confirmation_frame, text="Confirm Booking", command=process_payment)
confirm_button.pack()

root.mainloop()
